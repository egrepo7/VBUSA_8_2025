---
category:
  shop_by_price: true
  products:
    limit: {{theme_settings.categorypage_products_per_page}}
  subcategories:
    limit: 50
    products:
      limit: 12
products:
  featured:
    limit: 12
page_type: category
---
{{inject "categoryProductsPerPage" theme_settings.categorypage_products_per_page}}
{{inject "categoryId" category.id}}
{{inject "defaultViewType" theme_settings.product_list_display_mode}}
{{inject "pageType" "custom-volleyball-nets"}}

{{#partial "head"}}
    {{#if pagination.category.previous}}
        <link rel="prev" href="{{pagination.category.previous}}">
    {{/if}}
    {{#if pagination.category.next}}
        <link rel="next" href="{{pagination.category.next}}">
    {{/if}}
    {{!-- Preload critical hero image to prevent CLS --}}
    {{#if category.image}}
        <link rel="preload" as="image" href="{{getImage category.image 'zoom_size'}}" />
    {{/if}}
    {{!-- Preload critical buying guide images for volleyball nets --}}
    <link rel="preload" as="image" href="{{cdn 'assets/img/categories/net-buying-guide.png'}}" />
    {{!-- CLS prevention meta --}}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

{{/partial}}

{{#partial "page"}}
{{!-- Add class to indicate if hero is present or not --}}
<div class="page--category {{#unless category.image}}no-hero{{/unless}}">

<!-- {{> components/common/breadcrumbs breadcrumbs=breadcrumbs}} -->

<!-- Category Hero Section - Only show if category has an image -->
{{#if category.image}}
<section class="category-hero">
    <div class="category-hero__background" 
         data-category="{{category.url}}"
         style="background: linear-gradient(rgba(0, 0, 0, 0.20), rgba(0, 0, 0, 0.20)), url('{{getImage category.image 'zoom_size'}}') bottom/cover;">
        <div class="container">
            <div class="category-hero__content">
                <h1 class="category-hero__title h1">Professional Volleyball Nets for <strong>Every Level of Play</strong></h1>
                <div class="category-hero__subtitle">Whether you're outfitting an indoor high school gym, a beach court, or a professional tournament, our volleyball nets are designed for unmatched durability and performance. Shop indoor and outdoor systems trusted by the AVP, USAV, and thousands of schools across the country.</div>
                
                <!-- Category Navigation Buttons -->
                <div class="category-hero__cta-group">
                    <a href="#outdoor-nets-section" class="button button--white-ghost category-hero__cta-btn scroll-to-section">Shop Outdoor Nets</a>
                    <a href="#indoor-nets-section" class="button button--white-ghost category-hero__cta-btn scroll-to-section">Shop Indoor Nets</a>
                </div>
                
                <!-- Scroll Down Arrow -->
                <div class="category-hero__scroll-arrow">
                    <div class="category-hero__scroll-btn" aria-label="Scroll to categories">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{{/if}}

<!-- Outdoor Volleyball Nets Category Cards -->
<section class="category-showcase" id="outdoor-nets-section">
    <div class="container">
        <h2 class="category-showcase__title">OUTDOOR VOLLEYBALL NETS</h2>
        
        <div class="category-showcase__grid">
            <!-- Standard Outdoor Nets -->
            <div class="category-showcase__card">
                <div class="category-showcase__image" style="background-image: url('{{cdn 'assets/img/categories/outdoor-volleyball-nets.jpg'}}');">
                    <div class="category-showcase__overlay">
                        <div class="category-showcase__content">
                            <h3 class="category-showcase__card-title">OUTDOOR NETS</h3>
                            <p class="category-showcase__card-subtitle">Built for parks, backyards, and rec play, these durable outdoor nets meet official sizing standards.</p>
                            <a href="/volleyball-nets/outdoor-volleyball-nets/" class="button button--primary category-showcase__cta">
                                SHOP OUTDOOR NETS
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Custom Printed Outdoor Nets -->
            <div class="category-showcase__card">
                <div class="category-showcase__image" style="background-image: url('{{cdn 'assets/img/categories/custom-printed-outdoor-nets.jpg'}}');">
                    <div class="category-showcase__overlay">
                        <div class="category-showcase__content">
                            <h3 class="category-showcase__card-title">CUSTOM PRINTED OUTDOOR NETS</h3>
                            <p class="category-showcase__card-subtitle">Promote your team, city, or sponsor with professional outdoor nets customized with your branding.</p>
                            <a href="/volleyball-nets/custom-printed-nets/" class="button button--primary category-showcase__cta">
                                SHOP CUSTOM PRINTED NETS
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Outdoor Volleyball Nets Featured Products -->
<section class="featured-products-section featured-products-section--outdoor">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Popular Outdoor Volleyball Nets</h2>
        </div>
        
        {{!-- Products will be loaded via JavaScript using specific product IDs --}}
    </div>
</section>

<!-- United Volleyball Slip Net System Featured Section -->
{{!-- <section class="category-showcase category-showcase--featured category-showcase--slip-system">
    <div class="container">
        <div class="category-showcase__grid" style="grid-template-columns: 1fr; max-width: 100%; margin: 0 auto;">
            <!-- United Volleyball Slip Net System -->
            <div class="category-showcase__card">
                <div class="category-showcase__image" style="background-image: url('{{cdn 'assets/img/categories/slipsystem.jpg'}}');">
                    <div class="category-showcase__overlay">
                        <div class="category-showcase__content">
                            <p style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.9); margin-bottom: 0.5rem; font-weight: 500; text-transform: uppercase; letter-spacing: 1px; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);">FAST SETUP, AFFORDABLE, WEATHER-RESISTANT</p>
                            <h3 class="category-showcase__card-title">UNITED VOLLEYBALL SLIP NET SYSTEM — High Performance, Low Cost</h3>
                            <p class="category-showcase__card-subtitle">Take your game wherever you go. Built for durability, designed for fast setup, and priced for players who demand performance without overspending.</p>
                            <a href="#" class="button button--primary category-showcase__cta">
                                VIEW PRODUCT
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> --}}

<!-- Indoor Volleyball Nets Category Cards -->
<section class="category-showcase category-showcase--indoor" id="indoor-nets-section">
    <div class="container">
        <h2 class="category-showcase__title">INDOOR VOLLEYBALL NETS</h2>
        
        <div class="category-showcase__grid">
            <!-- Standard Indoor Nets -->
            <div class="category-showcase__card">
                <div class="category-showcase__image" style="background-image: url('{{cdn 'assets/img/categories/indoor-volleyball-nets.jpg'}}');">
                    <div class="category-showcase__overlay">
                        <div class="category-showcase__content">
                            <h3 class="category-showcase__card-title">INDOOR NETS</h3>
                            <p class="category-showcase__card-subtitle">Perfect for gyms and training, our indoor nets meet NCAA, USAV, and NFHS competition standards.</p>
                            <a href="/volleyball-nets/indoor-volleyball-nets/" class="button button--primary category-showcase__cta">
                                SHOP INDOOR NETS
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Custom Printed Indoor Nets -->
            <div class="category-showcase__card">
                <div class="category-showcase__image" style="background-image: url('{{cdn 'assets/img/categories/custom-printed-indoor-nets.jpg'}}');">
                    <div class="category-showcase__overlay">
                        <div class="category-showcase__content">
                            <h3 class="category-showcase__card-title">CUSTOM PRINTED INDOOR NETS</h3>
                            <p class="category-showcase__card-subtitle">Show off your program’s identity with indoor nets customized with team logos and colors.</p>
                            <a href="/volleyball-nets/custom-printed-nets/" class="button button--primary category-showcase__cta">
                                SHOP CUSTOM PRINTED NETS
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Indoor Volleyball Nets Featured Products -->
<section class="featured-products-section featured-products-section--indoor">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Popular Indoor Volleyball Nets</h2>
        </div>
        
        {{!-- Products will be loaded via JavaScript using specific product IDs --}}
    </div>
</section>

<!-- Buying Guide Section - Volleyball Nets -->
<section class="buying-guide-section">
    <div class="container">
        {{> components/custom/buying-guide}}
    </div>
</section>

<!-- Dynamic FAQ Section - Shows for all supported categories -->
{{> components/custom/category-faq-seo}}

</div> {{!-- End page--category wrapper --}}
{{/partial}}

{{#partial "page_scripts"}}
    <script>
        // Volleyball Nets Product Fetcher
        var volleyballNets = {
            
            // Configuration for subcategories
            subcategories: {
                outdoor: {
                    // Specify exact product IDs in your preferred display order
                    productIds: [145, 144, 1655, 153, 643], // First ID shows first, last ID shows last
                    sortBy: 'price-low', // manual, name, price-low, price-high, newest, oldest
                    sectionClass: 'featured-products-section--outdoor',
                    products: []
                },
                indoor: {
                    // Specify exact product IDs you want to show for indoor nets  
                    productIds: [151, 646, 459, 156, 190], // Replace with your actual product IDs
                    sortBy: 'price-low', // manual, name, price-low, price-high, newest, oldest
                    sectionClass: 'featured-products-section--indoor',
                    products: []
                }
            },

            buildQuery: (productIds) => {
                return `
                query ProductsByIds {
                    site {
                        products(entityIds: [${productIds.join(',')}], first: 12) {
                            edges {
                                node {
                                    entityId
                                    name
                                    sku
                                    path
                                    defaultImage {
                                        url(width: 300, height: 300)
                                        altText
                                    }
                                    prices {
                                        price {
                                            value
                                            currencyCode
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                `;
            },

            /* Fetch products from GraphQL API */
            fetchProducts: async (query) => {
                var graphQLToken = $('body').data('graphql');
                
                try {
                    var response = await fetch('/graphql', {
                        method: 'POST',
                        credentials: 'same-origin',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${graphQLToken}`
                        },
                        body: JSON.stringify({ query }),
                    });
                    
                    var data = await response.json();
                    return data;
                } catch (error) {
                    console.error('Error fetching products:', error);
                    return null;
                }
            },

            /* Get products from a specific subcategory by product IDs */
            fetchSubcategoryProducts: async (subcategoryKey) => {
                var subcategory = volleyballNets.subcategories[subcategoryKey];
                var query = volleyballNets.buildQuery(subcategory.productIds);
                
                var json = await volleyballNets.fetchProducts(query);
                
                if (!json || json.errors) {
                    console.warn(`API errors for ${subcategoryKey}:`, json?.errors);
                    return;
                }
                
                if (!json.data || !json.data.site || !json.data.site.products) {
                    console.warn(`No products found for ${subcategoryKey}`);
                    return;
                }

                var productResults = json.data.site.products;
                var products = [];
                
                for (var idx = 0; idx < productResults.edges.length; idx++) {
                    var node = productResults.edges[idx].node;
                    products.push({
                        id: node.entityId,
                        sku: node.sku,
                        name: node.name,
                        path: node.path,
                        image: node.defaultImage,
                        price: node.prices?.price?.value || 0
                    });
                }

                subcategory.products = products;
                
                // Sort products based on sortBy preference
                volleyballNets.sortProducts(subcategoryKey);
                
                // Render products
                volleyballNets.renderProducts(subcategoryKey);
            },

            /* Sort products based on configuration */
            sortProducts: (subcategoryKey) => {
                var subcategory = volleyballNets.subcategories[subcategoryKey];
                var sortBy = subcategory.sortBy || 'manual';
                
                switch (sortBy) {
                    case 'name':
                        subcategory.products.sort((a, b) => a.name.localeCompare(b.name));
                        break;
                    case 'price-low':
                        subcategory.products.sort((a, b) => (a.price || 0) - (b.price || 0));
                        break;
                    case 'price-high':
                        subcategory.products.sort((a, b) => (b.price || 0) - (a.price || 0));
                        break;
                    case 'manual':
                        // Sort by the order specified in productIds array
                        var idOrder = subcategory.productIds;
                        subcategory.products.sort((a, b) => {
                            var aIndex = idOrder.indexOf(a.id);
                            var bIndex = idOrder.indexOf(b.id);
                            return aIndex - bIndex;
                        });
                        break;
                    case 'newest':
                    case 'oldest':
                        // Note: Would need dateCreated field from GraphQL for this
                        console.warn(`${sortBy} sorting requires date fields not currently fetched`);
                        break;
                    default:
                        // Use default order
                        break;
                }
            },

            /* Render products in the appropriate container */
            renderProducts: (subcategoryKey) => {
                var subcategory = volleyballNets.subcategories[subcategoryKey];
                var section = document.querySelector(`.${subcategory.sectionClass}`);
                
                if (!section) {
                    console.error(`Section .${subcategory.sectionClass} not found`);
                    return;
                }

                var container = section.querySelector('.container');
                if (!container) {
                    console.error('Container not found in section');
                    return;
                }

                if (subcategory.products.length === 0) {
                    container.innerHTML += '<div style="padding: 20px; background: #fff3cd; border-radius: 4px; color: #856404; margin: 20px 0;">No products found in this category.</div>';
                    return;
                }

                // Create product carousel using BigCommerce carousel structure
                var productsHTML = `
                <div class="productCarousel" 
                    data-list-name="${subcategoryKey.charAt(0).toUpperCase() + subcategoryKey.slice(1)} Volleyball Nets"
                    data-slick='{
                        "dots": false,
                        "infinite": false,
                        "mobileFirst": true,
                        "slidesToShow": 2,
                        "slidesToScroll": 2,
                        "slide": "[data-product-slide]",
                        "responsive": [
                            {
                                "breakpoint": 1260,
                                "settings": {
                                    "slidesToShow": 5,
                                    "slidesToScroll": 5
                                }
                            }
                        ]
                    }'>`;

                subcategory.products.slice(0, 12).forEach((product, index) => {
                    var imageUrl = product.image ? product.image.url : '/assets/img/placeholder.png';
                    var imageAlt = product.image ? product.image.altText : product.name;
                    var price = product.price || 0;
                    var formattedPrice = new Intl.NumberFormat('en-US', { 
                        style: 'currency', 
                        currency: 'USD' 
                    }).format(price);

                    productsHTML += `
                        <div class="productCarousel-slide" data-product-slide>
                            <article class="card" data-test="card-${product.id}">
                                <figure class="card-figure">
                                    <a href="${product.path}" aria-label="${product.name}">
                                        <div class="card-img-container">
                                            <img class="card-image lazyload" 
                                                 data-sizes="auto"
                                                 src="${imageUrl}" 
                                                 alt="${imageAlt}"
                                                 title="${imageAlt}" />
                                        </div>
                                    </a>
                                </figure>
                                <div class="card-body">
                                    <h3 class="card-title">
                                        <a href="${product.path}" aria-label="${product.name}">
                                            ${product.name}
                                        </a>
                                    </h3>
                                    <div class="card-text" data-test-info-type="price">
                                        <span class="price price--withoutTax">
                                            ${formattedPrice}
                                        </span>
                                    </div>
                                    <div class="card-actions" style="display: block !important; opacity: 1 !important; visibility: visible !important; margin-top: 15px;">
                                        <a href="${product.path}" 
                                           class="button button--primary card-figcaption-button"
                                           style="display: inline-block !important; opacity: 1 !important; visibility: visible !important; width: 100%; text-align: center; padding: 10px 15px; margin: 0; transform: none !important;">
                                            View Product
                                        </a>
                                    </div>
                                </div>
                            </article>
                        </div>
                    `;
                });

                productsHTML += '</div>';
                
                // Add after section header
                var sectionHeader = container.querySelector('.section-header');
                if (sectionHeader) {
                    sectionHeader.insertAdjacentHTML('afterend', productsHTML);
                } else {
                    container.innerHTML += productsHTML;
                }

                // Initialize Slick carousel for the newly added products
                setTimeout(() => {
                    var newCarousel = container.querySelector('.productCarousel');
                    if (newCarousel && typeof $(newCarousel).slick === 'function') {
                        $(newCarousel).slick();
                    }
                }, 100);
            },

            /* Initialize fetching for both subcategories */
            run: async () => {
                // Fetch both subcategories
                await Promise.all([
                    volleyballNets.fetchSubcategoryProducts('outdoor'),
                    volleyballNets.fetchSubcategoryProducts('indoor')
                ]);
            }
        };

        // Start when document is ready
        $(document).ready(function() {
            volleyballNets.run();
        });
    </script>
{{/partial}}

{{> layout/base container_active=false}}
