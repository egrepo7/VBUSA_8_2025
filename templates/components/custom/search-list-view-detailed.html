{{inject 'noCompareMessage' (lang 'compare.no_compare')}}

{{#if product_results.products}}
    <div class="category-toolbar">
        <div class="category-toolbar__sort">
            {{> components/products/filter sort=pagination.product_results.sort}}
        </div>
        <div class="category-toolbar__view-toggle">
            {{> components/custom/category-view-toggle type='list'}}
        </div>
    </div>

    <form action="{{urls.compare}}" method='POST' {{#if settings.data_tag_enabled}} data-list-name="Search Results" {{/if}} data-product-compare>
        <ul class="productList">
            {{#each product_results.products}}
            <li class="product">
                {{> components/custom/search-list-item show_compare=../product_results.show_compare theme_settings=../theme_settings customer=../customer event="list" settings=../settings position=(add @index 1)}}
            </li>
            {{/each}}
        </ul>
    </form>

    {{> components/common/paginator
        pagination.product_results
        page_type=page_type
        show_dropdown=theme_settings.its.paginator_dropdown
        paginator_dropdown_page_count=(ceil (divide pagination.product_results.total theme_settings.searchpage_products_per_page))
    }}
{{else}}
    {{#if product_results.search_error}}
        <p>{{lang 'search.errorMessage'}}</p>
    {{else}}
        <p data-no-products-notification
           role="alert"
           aria-live="assertive"
           tabindex="-1"
        >
            {{lang 'search.no_results'}}
        </p>
    {{/if}}
{{/if}}
