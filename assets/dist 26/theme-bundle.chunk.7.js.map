{"version":3,"sources":["webpack:///./assets/js/theme/category.js","webpack:///./assets/js/theme/common/utils/translations-utils.js","webpack:///./assets/js/theme/global/compare-products.js","webpack:///./node_modules/lodash/_SetCache.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_cacheHas.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./assets/js/theme/catalog.js","webpack:///./assets/js/theme/common/faceted-search.js","webpack:///./node_modules/lodash/union.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./assets/js/theme/custom/its-category.js","webpack:///./assets/js/theme/custom/toggle-category-listing-view.js"],"names":["ToggleCategoryListingView","window","blockToggleCategoryListingView","customVolleyballNetsPage","console","log","require","default","Category","_CatalogPage","context","_this","call","validationDictionary","createTranslationDictionary","ITSCategory","toggleCategoryListingView","getRequestTemplateType","init","fullWidthTemplate","error","_proto","prototype","setLiveRegionAttributes","$element","roleType","ariaLiveStatus","attr","role","makeShopByPriceFilterAccessible","_this2","$","length","hasClass","focus","on","onReady","_this3","emergencyCarouselProtection","this","arrangeFocusOnSortBy","e","currentTarget","next","compareProducts","initFacetedSearch","onSortBySubmit","bind","hooks","setLiveRegionsAttributes","ariaNotifyNoProducts","facetedSearch","initMobileDropdowns","$noProductsMessage","_this4","_this$validationDicti","onMinPriceError","price_min_evaluation","onMaxPriceError","price_max_evaluation","minPriceNotEntered","price_min_not_entered","maxPriceNotEntered","price_max_not_entered","onInvalidPrice","price_invalid_value","$productListingContainer","$facetedSearchContainer","productsPerPage","categoryProductsPerPage","requestOptions","config","category","shop_by_price","products","limit","template","productListing","sidebar","showMore","FacetedSearch","content","html","triggerHandler","animate","scrollTop","afterFacetUpdate","validationErrorMessages","NewOpts","updateRequestOptions","CatalogPage","isTranslationDictionaryNotEmpty","dictionary","Object","keys","activeDictionary","i","arguments","JSON","parse","undefined","chooseActiveDictionary","validationDictionaryJSON","validationFallbackDictionaryJSON","validationDefaultDictionaryJSON","localizations","values","map","key","split","pop","reduce","acc","updateCounterNav","counter","$link","urls","is","addClass","compare","join","find","removeClass","_ref","noCompareMessage","compareCounter","$compareLink","$checked","index","element","value","get","event","item","product","$clickedCompareLink","checked","push","indexOf","splice","decrementCounter","showAlertModal","preventDefault","isArray","module","exports","baseIndexOf","array","comparator","isArrayLike","isObjectLike","_PageManager","addEventListener","document","activeElement","id","localStorage","setItem","$sortBySelector","getItem","removeItem","url","Url","location","href","queryParams","serialize","query","page","format","pathname","search","urlUtils","buildQueryString","PageManager","defaultOptions","accordionToggleSelector","blockerSelector","clearFacetSelector","componentSelector","facetNavListSelector","priceRangeErrorSelector","priceRangeFieldsetSelector","priceRangeFormSelector","priceRangeMaxPriceSelector","priceRangeMinPriceSelector","showMoreToggleSelector","facetedSearchFilterItems","modal","modalFactory","modalOpen","callback","options","_extend","collapsedFacets","collapsedFacetItems","collapsibleFactory","initPriceValidator","each","navList","collapseFacetItems","accordionToggle","collapsible","data","isCollapsed","targetId","setTimeout","collapseAllFacets","onStateChange","onToggleClick","onAccordionToggle","onClearFacet","onFacetClick","onRangeSubmit","filterFacetItems","bindEvents","opts","innerWidth","prependTo","relocateMobileDropdowns","refreshView","restoreCollapsedFacets","restoreCollapsedFacetItems","updateView","show","api","getPage","getUrl","err","hide","Error","expandFacetItems","$navList","_without","hasMoreResults","_union","toggleFacetItems","_includes","getMoreFacetResults","facet","facetUrl","params","list_all","response","open","updateContent","$items","val","toLowerCase","text","expandFacet","$accordionToggle","collapseFacet","close","expandAllFacets","_this5","validator","nod","selectors","errorSelector","fieldsetSelector","formSelector","maxPriceSelector","minPriceSelector","Validators","setMinMaxPriceValidation","priceRangeValidator","_this6","_this7","unbindEvents","onPopState","off","stopPropagation","goToUrl","$toggle","toggleClass","urlQueryParams","assign","areAll","constants","VALID","decodeURI","parseQueryParams","hasOwnProperty","currentUrl","URLSearchParams","has","updatedLinkUrl","replace","history","replaceState","title","trigger","baseFlatten","baseRest","baseUniq","isArrayLikeObject","union","arrays","arrayPush","isFlattenable","depth","predicate","isStrict","result","offset","Symbol","isArguments","spreadableSymbol","isConcatSpreadable","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","iteratee","includes","isCommon","seen","set","outer","computed","seenIndex","baseDifference","without","arrayMap","baseUnary","valuesLength","valuesIndex","Array","func","destroy","defaultViewType","oppositeViewType","loadingOverlay","storedViewType","sessionStorage","userAgent","navigator","isLocalhost","hostname","contextDefaultView","addToggleEvents","getProductDescriptions","$products","toArray","$productIDs","Number","$graphQLToken","fetch","method","credentials","headers","body","stringify","then","res","json","request","gqlProducts","site","edges","forEach","node","entityId","description","getStoredViewType","type","pageType","storeViewType","addStyleClass","getCategoryPage","img","height","isFilterTabsTemplate","querySelector","classList","contains"],"mappings":"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","file":"theme-bundle.chunk.7.js","sourcesContent":["import { hooks } from '@bigcommerce/stencil-utils';\nimport CatalogPage from './catalog';\nimport compareProducts from './global/compare-products';\nimport FacetedSearch from './common/faceted-search';\nimport { createTranslationDictionary } from '../theme/common/utils/translations-utils';\nimport ITSCategory from './custom/its-category';\n// Conditional import - only load ToggleCategoryListingView if not blocked\nlet ToggleCategoryListingView;\nif (!window.blockToggleCategoryListingView && !window.customVolleyballNetsPage) {\n    ToggleCategoryListingView = require('./custom/toggle-category-listing-view').default;\n} else {\n    console.log('ToggleCategoryListingView import blocked for custom volleyball nets page');\n}\n\nexport default class Category extends CatalogPage {\n    constructor(context) {\n        super(context);\n        this.validationDictionary = createTranslationDictionary(context);\n\n        /**\n         * IntuitSolutions - Custom Category\n         */\n        this.ITSCategory = new ITSCategory(context);\n        \n        // Check for emergency blocking flags and prevent ToggleCategoryListingView instantiation completely\n        if (window.blockToggleCategoryListingView || window.customVolleyballNetsPage || !ToggleCategoryListingView) {\n            console.log('ToggleCategoryListingView completely blocked for custom volleyball nets page');\n            this.toggleCategoryListingView = {\n                getRequestTemplateType: () => 'grid',\n                init: () => { console.log('ToggleCategoryListingView.init() blocked'); },\n                fullWidthTemplate: () => { console.log('ToggleCategoryListingView.fullWidthTemplate() blocked'); }\n            };\n        } else {\n            try {\n                this.toggleCategoryListingView = new ToggleCategoryListingView(context);\n            } catch (error) {\n                console.error('ToggleCategoryListingView failed to initialize:', error);\n                this.toggleCategoryListingView = {\n                    getRequestTemplateType: () => 'grid',\n                    init: () => {},\n                    fullWidthTemplate: () => {}\n                };\n            }\n        }\n    }\n\n    setLiveRegionAttributes($element, roleType, ariaLiveStatus) {\n        $element.attr({\n            role: roleType,\n            'aria-live': ariaLiveStatus,\n        });\n    }\n\n    makeShopByPriceFilterAccessible() {\n        if (!$('[data-shop-by-price]').length) return;\n\n        if ($('.navList-action').hasClass('is-active')) {\n            $('a.navList-action.is-active').focus();\n        }\n\n        $('a.navList-action').on('click', () => this.setLiveRegionAttributes($('span.price-filter-message'), 'status', 'assertive'));\n    }\n\n    onReady() {\n        // EMERGENCY: Completely block execution for volleyball nets page\n        if (window.customVolleyballNetsPage || window.emergencyCarouselProtection || window.blockToggleCategoryListingView) {\n            console.log('CATEGORY.JS: Emergency stop - no initialization for volleyball nets page');\n            return;\n        }\n\n        this.arrangeFocusOnSortBy();\n\n        $('[data-button-type=\"add-cart\"]').on('click', (e) => this.setLiveRegionAttributes($(e.currentTarget).next(), 'status', 'polite'));\n\n        this.makeShopByPriceFilterAccessible();\n\n        compareProducts(this.context);\n\n        if ($('#facetedSearch').length > 0) {\n            this.initFacetedSearch();\n        } else {\n            this.onSortBySubmit = this.onSortBySubmit.bind(this);\n            hooks.on('sortBy-submitted', this.onSortBySubmit);\n        }\n\n        $('a.reset-btn').on('click', () => this.setLiveRegionsAttributes($('span.reset-message'), 'status', 'polite'));\n\n        this.ariaNotifyNoProducts();\n\n        // Fix: Only call initMobileDropdowns if it exists\n        if (this.facetedSearch && typeof this.facetedSearch.initMobileDropdowns === 'function') {\n            this.facetedSearch.initMobileDropdowns();\n        }\n    }\n\n    ariaNotifyNoProducts() {\n        const $noProductsMessage = $('[data-no-products-notification]');\n        if ($noProductsMessage.length) {\n            $noProductsMessage.focus();\n        }\n    }\n\n    initFacetedSearch() {\n        const {\n            price_min_evaluation: onMinPriceError,\n            price_max_evaluation: onMaxPriceError,\n            price_min_not_entered: minPriceNotEntered,\n            price_max_not_entered: maxPriceNotEntered,\n            price_invalid_value: onInvalidPrice,\n        } = this.validationDictionary;\n        const $productListingContainer = $('#product-listing-container');\n        const $facetedSearchContainer = $('#faceted-search-container');\n        const productsPerPage = this.context.categoryProductsPerPage;\n        const requestOptions = {\n            config: {\n                category: {\n                    shop_by_price: true,\n                    products: {\n                        limit: productsPerPage,\n                    },\n                },\n            },\n            template: {\n                productListing: this.toggleCategoryListingView.getRequestTemplateType('category'),\n                sidebar: 'category/sidebar',\n            },\n            showMore: 'category/show-more',\n        };\n\n\n        this.facetedSearch = new FacetedSearch(requestOptions, (content) => {\n            $productListingContainer.html(content.productListing);\n            $facetedSearchContainer.html(content.sidebar);\n\n            $('body').triggerHandler('compareReset');\n\n            $('html, body').animate({\n                scrollTop: 0,\n            }, 100);\n\n            /**\n             * IntuitSolutions - Category Update\n             */\n            this.ITSCategory.afterFacetUpdate();\n        }, {\n            validationErrorMessages: {\n                onMinPriceError,\n                onMaxPriceError,\n                minPriceNotEntered,\n                maxPriceNotEntered,\n                onInvalidPrice,\n            },\n        });\n\n        $('body').on('productViewModeChanged', () => {\n            const NewOpts = {\n                config: {\n                    category: {\n                        shop_by_price: true,\n                        products: {\n                            limit: productsPerPage,\n                        },\n                    },\n                },\n                template: {\n                    productListing: this.toggleCategoryListingView.getRequestTemplateType('category'),\n                    sidebar: 'category/sidebar',\n                },\n                showMore: 'category/show-more',\n            };\n\n            this.facetedSearch.updateRequestOptions(NewOpts);\n        });\n    }\n}\n","const TRANSLATIONS = 'translations';\nconst isTranslationDictionaryNotEmpty = (dictionary) => !!Object.keys(dictionary[TRANSLATIONS]).length;\nconst chooseActiveDictionary = (...dictionaryJsonList) => {\n    for (let i = 0; i < dictionaryJsonList.length; i++) {\n        const dictionary = JSON.parse(dictionaryJsonList[i]);\n        if (isTranslationDictionaryNotEmpty(dictionary)) {\n            return dictionary;\n        }\n    }\n};\n\n/**\n * defines Translation Dictionary to use\n * @param context provides access to 3 validation JSONs from en.json:\n * validation_messages, validation_fallback_messages and default_messages\n * @returns {Object}\n */\nexport const createTranslationDictionary = (context) => {\n    const { validationDictionaryJSON, validationFallbackDictionaryJSON, validationDefaultDictionaryJSON } = context;\n    const activeDictionary = chooseActiveDictionary(validationDictionaryJSON, validationFallbackDictionaryJSON, validationDefaultDictionaryJSON);\n    const localizations = Object.values(activeDictionary[TRANSLATIONS]);\n    const translationKeys = Object.keys(activeDictionary[TRANSLATIONS]).map(key => key.split('.').pop());\n\n    return translationKeys.reduce((acc, key, i) => {\n        acc[key] = localizations[i];\n        return acc;\n    }, {});\n};\n","import { showAlertModal } from './modal';\n\nfunction decrementCounter(counter, item) {\n    const index = counter.indexOf(item);\n\n    if (index > -1) {\n        counter.splice(index, 1);\n    }\n}\n\nfunction incrementCounter(counter, item) {\n    counter.push(item);\n}\n\nfunction updateCounterNav(counter, $link, urls) {\n    if (counter.length !== 0) {\n        if (!$link.is('visible')) {\n            $link.addClass('show');\n        }\n        $link.attr('href', `${urls.compare}/${counter.join('/')}`);\n        $link.find('span.countPill').html(counter.length);\n    } else {\n        $link.removeClass('show');\n    }\n}\n\nexport default function ({ noCompareMessage, urls }) {\n    let compareCounter = [];\n\n    const $compareLink = $('a[data-compare-nav]');\n\n    $('body').on('compareReset', () => {\n        const $checked = $('body').find('input[name=\"products\\[\\]\"]:checked');\n\n        compareCounter = $checked.length ? $checked.map((index, element) => element.value).get() : [];\n        updateCounterNav(compareCounter, $compareLink, urls);\n    });\n\n    $('body').triggerHandler('compareReset');\n\n    $('body').on('click', '[data-compare-id]', event => {\n        const product = event.currentTarget.value;\n        const $clickedCompareLink = $('a[data-compare-nav]');\n\n        if (event.currentTarget.checked) {\n            incrementCounter(compareCounter, product);\n        } else {\n            decrementCounter(compareCounter, product);\n        }\n\n        updateCounterNav(compareCounter, $clickedCompareLink, urls);\n    });\n\n    $('body').on('submit', '[data-product-compare]', event => {\n        const $this = $(event.currentTarget);\n        const productsToCompare = $this.find('input[name=\"products\\[\\]\"]:checked');\n\n        if (productsToCompare.length <= 1) {\n            showAlertModal(noCompareMessage);\n            event.preventDefault();\n        }\n    });\n\n    $('body').on('click', 'a[data-compare-nav]', () => {\n        const $clickedCheckedInput = $('body').find('input[name=\"products\\[\\]\"]:checked');\n\n        if ($clickedCheckedInput.length <= 1) {\n            showAlertModal(noCompareMessage);\n            return false;\n        }\n    });\n}\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","import PageManager from './page-manager';\nimport urlUtils from './common/utils/url-utils';\nimport Url from 'url';\n\nexport default class CatalogPage extends PageManager {\n    constructor(context) {\n        super(context);\n\n        window.addEventListener('beforeunload', () => {\n            if (document.activeElement.id === 'sort') {\n                window.localStorage.setItem('sortByStatus', 'selected');\n            }\n        });\n    }\n\n    arrangeFocusOnSortBy() {\n        const $sortBySelector = $('[data-sort-by=\"product\"] #sort');\n\n        if (window.localStorage.getItem('sortByStatus')) {\n            $sortBySelector.focus();\n            window.localStorage.removeItem('sortByStatus');\n        }\n    }\n\n    onSortBySubmit(event, currentTarget) {\n        const url = Url.parse(window.location.href, true);\n        const queryParams = $(currentTarget).serialize().split('=');\n\n        url.query[queryParams[0]] = queryParams[1];\n        delete url.query.page;\n\n        event.preventDefault();\n        window.location = Url.format({ pathname: url.pathname, search: urlUtils.buildQueryString(url.query) });\n    }\n}\n","import { hooks, api } from '@bigcommerce/stencil-utils';\nimport _ from 'lodash';\nimport Url from 'url';\nimport urlUtils from './utils/url-utils';\nimport modalFactory, { ModalEvents } from '../global/modal';\nimport collapsibleFactory from './collapsible';\nimport { Validators } from './utils/form-utils';\nimport nod from './nod';\n\n\nconst defaultOptions = {\n    accordionToggleSelector: '#facetedSearch .accordion-navigation, #facetedSearch .facetedSearch-toggle',\n    blockerSelector: '#facetedSearch .blocker',\n    clearFacetSelector: '#facetedSearch .facetedSearch-clearLink',\n    componentSelector: '#facetedSearch-navList',\n    facetNavListSelector: '#facetedSearch .navList',\n    priceRangeErrorSelector: '#facet-range-form .form-inlineMessage',\n    priceRangeFieldsetSelector: '#facet-range-form .form-fieldset',\n    priceRangeFormSelector: '#facet-range-form',\n    priceRangeMaxPriceSelector: '#facet-range-form [name=max_price]',\n    priceRangeMinPriceSelector: '#facet-range-form [name=min_price]',\n    showMoreToggleSelector: '#facetedSearch .accordion-content .toggleLink',\n    facetedSearchFilterItems: '#facetedSearch-filterItems .form-input',\n    modal: modalFactory('#modal')[0],\n    modalOpen: false,\n};\n\n/**\n * Faceted search view component\n */\nclass FacetedSearch {\n    /**\n     * @param {object} requestOptions - Object with options for the ajax requests\n     * @param {function} callback - Function to execute after fetching templates\n     * @param {object} options - Configurable options\n     * @example\n     *\n     * let requestOptions = {\n     *      templates: {\n     *          productListing: 'category/product-listing',\n     *          sidebar: 'category/sidebar'\n     *     }\n     * };\n     *\n     * let templatesDidLoad = function(content) {\n     *     $productListingContainer.html(content.productListing);\n     *     $facetedSearchContainer.html(content.sidebar);\n     * };\n     *\n     * let facetedSearch = new FacetedSearch(requestOptions, templatesDidLoad);\n     */\n    constructor(requestOptions, callback, options) {\n        // Private properties\n        this.requestOptions = requestOptions;\n        this.callback = callback;\n        this.options = _.extend({}, defaultOptions, options);\n        this.collapsedFacets = [];\n        this.collapsedFacetItems = [];\n\n        // Init collapsibles\n        collapsibleFactory();\n\n        // Init price validator\n        this.initPriceValidator();\n\n        // Show limited items by default\n        $(this.options.facetNavListSelector).each((index, navList) => {\n            this.collapseFacetItems($(navList));\n        });\n\n        // Mark initially collapsed accordions\n        $(this.options.accordionToggleSelector).each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n            const collapsible = $accordionToggle.data('collapsibleInstance');\n\n            if (collapsible.isCollapsed) {\n                this.collapsedFacets.push(collapsible.targetId);\n            }\n        });\n\n        // Collapse all facets if initially hidden\n        // NOTE: Need to execute after Collapsible gets bootstrapped\n        setTimeout(() => {\n            if ($(this.options.componentSelector).is(':hidden')) {\n                this.collapseAllFacets();\n            }\n        });\n\n        // Observe user events\n        this.onStateChange = this.onStateChange.bind(this);\n        this.onToggleClick = this.onToggleClick.bind(this);\n        this.onAccordionToggle = this.onAccordionToggle.bind(this);\n        this.onClearFacet = this.onClearFacet.bind(this);\n        this.onFacetClick = this.onFacetClick.bind(this);\n        this.onRangeSubmit = this.onRangeSubmit.bind(this);\n        this.onSortBySubmit = this.onSortBySubmit.bind(this);\n        this.filterFacetItems = this.filterFacetItems.bind(this);\n\n        this.bindEvents();\n    }\n\n    // ITS custom to update options when list view changes\n    updateRequestOptions(opts) {\n        this.requestOptions = opts;\n    }\n\n    initMobileDropdowns() {\n        if (window.innerWidth < 1025) {\n            $('.page-sidebar nav').prependTo('#product-listing-container');\n        }\n    }\n\n    relocateMobileDropdowns() {\n        if (window.innerWidth < 1025) {\n            $('.page-sidebar nav').prependTo('#product-listing-container');\n        } else {\n            $('.sidebarNav').prependTo('#faceted-search-container');\n        }\n    }\n\n    // Public methods\n    refreshView(content) {\n        if (content) {\n            this.callback(content);\n        }\n\n        // Init collapsibles\n        collapsibleFactory();\n\n        // Init price validator\n        this.initPriceValidator();\n\n        // Restore view state\n        this.restoreCollapsedFacets();\n        this.restoreCollapsedFacetItems();\n\n        // Bind events\n        this.bindEvents();\n\n        // ITS custom trigger\n        $('body').triggerHandler('facetedSearchRefresh');\n\n        // run a dropdown handle?\n        console.log(\"moveDropDowns\");\n        this.initMobileDropdowns();\n    }\n\n    updateView() {\n        $(this.options.blockerSelector).show();\n\n        api.getPage(urlUtils.getUrl(), this.requestOptions, (err, content) => {\n            $(this.options.blockerSelector).hide();\n\n            if (err) {\n                throw new Error(err);\n            }\n\n            // Refresh view with new content\n            this.refreshView(content);\n        });\n    }\n\n    expandFacetItems($navList) {\n        const id = $navList.attr('id');\n\n        // Remove\n        this.collapsedFacetItems = _.without(this.collapsedFacetItems, id);\n    }\n\n    collapseFacetItems($navList) {\n        const id = $navList.attr('id');\n        const hasMoreResults = $navList.data('hasMoreResults');\n\n        if (hasMoreResults) {\n            this.collapsedFacetItems = _.union(this.collapsedFacetItems, [id]);\n        } else {\n            this.collapsedFacetItems = _.without(this.collapsedFacetItems, id);\n        }\n    }\n\n    toggleFacetItems($navList) {\n        const id = $navList.attr('id');\n\n        // Toggle depending on `collapsed` flag\n        if (_.includes(this.collapsedFacetItems, id)) {\n            this.getMoreFacetResults($navList);\n\n            return true;\n        }\n\n        this.collapseFacetItems($navList);\n\n        return false;\n    }\n\n    getMoreFacetResults($navList) {\n        const facet = $navList.data('facet');\n        const facetUrl = urlUtils.getUrl();\n\n        if (this.requestOptions.showMore) {\n            api.getPage(facetUrl, {\n                template: this.requestOptions.showMore,\n                params: {\n                    list_all: facet,\n                },\n            }, (err, response) => {\n                if (err) {\n                    throw new Error(err);\n                }\n\n                this.options.modal.open();\n                this.options.modalOpen = true;\n                this.options.modal.updateContent(response);\n            });\n        }\n\n        this.collapseFacetItems($navList);\n\n        return false;\n    }\n\n    filterFacetItems(event) {\n        const $items = $('.navList-item');\n        const query = $(event.currentTarget).val().toLowerCase();\n\n        $items.each((index, element) => {\n            const text = $(element).text().toLowerCase();\n            if (text.indexOf(query) !== -1) {\n                $(element).show();\n            } else {\n                $(element).hide();\n            }\n        });\n    }\n\n    expandFacet($accordionToggle) {\n        const collapsible = $accordionToggle.data('collapsibleInstance');\n\n        collapsible.open();\n    }\n\n    collapseFacet($accordionToggle) {\n        const collapsible = $accordionToggle.data('collapsibleInstance');\n\n        collapsible.close();\n    }\n\n    collapseAllFacets() {\n        const $accordionToggles = $(this.options.accordionToggleSelector);\n\n        $accordionToggles.each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n\n            this.collapseFacet($accordionToggle);\n        });\n    }\n\n    expandAllFacets() {\n        const $accordionToggles = $(this.options.accordionToggleSelector);\n\n        $accordionToggles.each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n\n            this.expandFacet($accordionToggle);\n        });\n    }\n\n    // Private methods\n    initPriceValidator() {\n        if ($(this.options.priceRangeFormSelector).length === 0) {\n            return;\n        }\n\n        const validator = nod();\n        const selectors = {\n            errorSelector: this.options.priceRangeErrorSelector,\n            fieldsetSelector: this.options.priceRangeFieldsetSelector,\n            formSelector: this.options.priceRangeFormSelector,\n            maxPriceSelector: this.options.priceRangeMaxPriceSelector,\n            minPriceSelector: this.options.priceRangeMinPriceSelector,\n        };\n\n        Validators.setMinMaxPriceValidation(validator, selectors, this.options.validationErrorMessages);\n\n        this.priceRangeValidator = validator;\n    }\n\n    restoreCollapsedFacetItems() {\n        const $navLists = $(this.options.facetNavListSelector);\n\n        // Restore collapsed state for each facet\n        $navLists.each((index, navList) => {\n            const $navList = $(navList);\n            const id = $navList.attr('id');\n            const shouldCollapse = _.includes(this.collapsedFacetItems, id);\n\n            if (shouldCollapse) {\n                this.collapseFacetItems($navList);\n            } else {\n                this.expandFacetItems($navList);\n            }\n        });\n    }\n\n    restoreCollapsedFacets() {\n        const $accordionToggles = $(this.options.accordionToggleSelector);\n\n        $accordionToggles.each((index, accordionToggle) => {\n            const $accordionToggle = $(accordionToggle);\n            const collapsible = $accordionToggle.data('collapsibleInstance');\n            const id = collapsible.targetId;\n            const shouldCollapse = _.includes(this.collapsedFacets, id);\n\n            if (shouldCollapse) {\n                this.collapseFacet($accordionToggle);\n            } else {\n                this.expandFacet($accordionToggle);\n            }\n        });\n    }\n\n    bindEvents() {\n        // Clean-up\n        this.unbindEvents();\n\n        // DOM events\n        $(window).on('statechange', this.onStateChange);\n        $(window).on('popstate', this.onPopState);\n        $(window).on('resize', this.relocateMobileDropdowns);\n        $(document).on('click', this.options.showMoreToggleSelector, this.onToggleClick);\n        $(document).on('toggle.collapsible', this.options.accordionToggleSelector, this.onAccordionToggle);\n        $(document).on('keyup', this.options.facetedSearchFilterItems, this.filterFacetItems);\n        $(this.options.clearFacetSelector).on('click', this.onClearFacet);\n\n        // Hooks\n        hooks.on('facetedSearch-facet-clicked', this.onFacetClick);\n        hooks.on('facetedSearch-range-submitted', this.onRangeSubmit);\n        hooks.on('sortBy-submitted', this.onSortBySubmit);\n    }\n\n    unbindEvents() {\n        // DOM events\n        $(window).off('statechange', this.onStateChange);\n        $(window).off('popstate', this.onPopState);\n        $(document).off('click', this.options.showMoreToggleSelector, this.onToggleClick);\n        $(document).off('toggle.collapsible', this.options.accordionToggleSelector, this.onAccordionToggle);\n        $(document).off('keyup', this.options.facetedSearchFilterItems, this.filterFacetItems);\n        $(this.options.clearFacetSelector).off('click', this.onClearFacet);\n\n        // Hooks\n        hooks.off('facetedSearch-facet-clicked', this.onFacetClick);\n        hooks.off('facetedSearch-range-submitted', this.onRangeSubmit);\n        hooks.off('sortBy-submitted', this.onSortBySubmit);\n    }\n\n    onClearFacet(event) {\n        const $link = $(event.currentTarget);\n        const url = $link.attr('href');\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        // Update URL\n        urlUtils.goToUrl(url);\n    }\n\n    onToggleClick(event) {\n        const $toggle = $(event.currentTarget);\n        const $navList = $($toggle.attr('href'));\n\n        // Prevent default\n        event.preventDefault();\n\n        // Toggle visible items\n        this.toggleFacetItems($navList);\n    }\n\n    onFacetClick(event, currentTarget) {\n        const $link = $(currentTarget);\n        const url = $link.attr('href');\n\n        event.preventDefault();\n\n        $link.toggleClass('is-selected');\n\n        // Update URL\n        urlUtils.goToUrl(url);\n\n        if (this.options.modalOpen) {\n            this.options.modal.close();\n        }\n    }\n\n    onSortBySubmit(event, currentTarget) {\n        const url = Url.parse(window.location.href, true);\n        const queryParams = $(currentTarget).serialize().split('=');\n\n        url.query[queryParams[0]] = queryParams[1];\n        delete url.query.page;\n\n        // Url object `query` is not a traditional JavaScript Object on all systems, clone it instead\n        const urlQueryParams = {};\n        Object.assign(urlQueryParams, url.query);\n\n        event.preventDefault();\n\n        urlUtils.goToUrl(Url.format({ pathname: url.pathname, search: urlUtils.buildQueryString(urlQueryParams) }));\n    }\n\n    onRangeSubmit(event, currentTarget) {\n        event.preventDefault();\n\n        if (!this.priceRangeValidator.areAll(nod.constants.VALID)) {\n            return;\n        }\n\n        const url = Url.parse(window.location.href, true);\n        let queryParams = decodeURI($(currentTarget).serialize()).split('&');\n        queryParams = urlUtils.parseQueryParams(queryParams);\n\n        for (const key in queryParams) {\n            if (queryParams.hasOwnProperty(key)) {\n                url.query[key] = queryParams[key];\n            }\n        }\n\n        // Url object `query` is not a traditional JavaScript Object on all systems, clone it instead\n        const urlQueryParams = {};\n        Object.assign(urlQueryParams, url.query);\n\n        urlUtils.goToUrl(Url.format({ pathname: url.pathname, search: urlUtils.buildQueryString(urlQueryParams) }));\n    }\n\n    onStateChange() {\n        this.updateView();\n    }\n\n    onAccordionToggle(event) {\n        const $accordionToggle = $(event.currentTarget);\n        const collapsible = $accordionToggle.data('collapsibleInstance');\n        const id = collapsible.targetId;\n\n        if (collapsible.isCollapsed) {\n            this.collapsedFacets = _.union(this.collapsedFacets, [id]);\n        } else {\n            this.collapsedFacets = _.without(this.collapsedFacets, id);\n        }\n    }\n\n    onPopState() {\n        const currentUrl = window.location.href;\n        const searchParams = new URLSearchParams(currentUrl);\n        // If searchParams does not contain a page value then modify url query string to have page=1\n        if (!searchParams.has('page')) {\n            const linkUrl = $('.pagination-link').attr('href');\n            const re = /page=[0-9]+/i;\n            const updatedLinkUrl = linkUrl.replace(re, 'page=1');\n            window.history.replaceState({}, document.title, updatedLinkUrl);\n        }\n        $(window).trigger('statechange');\n    }\n}\n\nexport default FacetedSearch;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","export default class ITSCategory {\n    constructor(context) {\n        this.context = context;\n    }\n\n    afterFacetUpdate() {\n\n    }\n}\n","import { api } from '@bigcommerce/stencil-utils';\nimport urlUtils from '../common/utils/url-utils';\n\nexport default class ToggleCategoryListingView {\n    constructor(context) {\n        // EMERGENCY: Block this entire class for volleyball nets page\n        if (window.customVolleyballNetsPage || window.blockToggleCategoryListingView || window.emergencyCarouselProtection) {\n            console.log('TOGGLE-CATEGORY-LISTING-VIEW: Completely blocked for volleyball nets page');\n            // Return a safe, non-functional object\n            this.init = () => { console.log('ToggleCategoryListingView.init() blocked'); };\n            this.fullWidthTemplate = () => { console.log('ToggleCategoryListingView.fullWidthTemplate() blocked'); return false; };\n            this.getRequestTemplateType = () => { console.log('ToggleCategoryListingView.getRequestTemplateType() blocked'); return 'grid'; };\n            this.destroy = () => { console.log('ToggleCategoryListingView.destroy() blocked'); };\n            return;\n        }\n\n        this.context = context;\n        this.defaultViewType = this.context.defaultViewType || 'list'; // Fallback to list if not set\n        this.oppositeViewType = this.defaultViewType !== 'grid' ? 'grid' : 'list';\n        this.productsPerPage = this.context.categoryProductsPerPage;\n        this.loadingOverlay = $('.loadingOverlay.loadingOverlay--product-listing');\n\n        // Debug logging for browser differences and localhost issues\n        console.log('ToggleCategoryListingView initialized:', {\n            defaultViewType: this.defaultViewType,\n            oppositeViewType: this.oppositeViewType,\n            storedViewType: sessionStorage.getItem('category-view-type'),\n            userAgent: navigator.userAgent.includes('Chrome') ? 'Chrome' : \n                      navigator.userAgent.includes('Safari') ? 'Safari' : 'Other',\n            isLocalhost: window.location.hostname.includes('localhost') || window.location.hostname.includes('127.0.0.1'),\n            contextDefaultView: this.context.defaultViewType\n        });\n\n        $('body').on('facetedSearchRefresh', () => {\n            this.addToggleEvents();\n        });\n\n        this.init();\n        this.fullWidthTemplate();\n    }\n\n    getProductDescriptions() {\n        if ($('.listItem').length) {\n            console.log('IntuitSolutions -- Category Product Descriptions');\n\n            const $products = $('.listItem').toArray();\n            \n            const $productIDs = $products.map(item => {\n                return Number($(item).attr('data-entity-id'));\n            });\n            \n            const $graphQLToken = $('body').data('graphql');\n            fetch('/graphql', {\n                method: 'POST',\n                credentials: 'same-origin',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${$graphQLToken}`\n                },\n                body: JSON.stringify({\n                    query: `query {\n                        site {\n                            products(entityIds: [${$productIDs}], first: ${this.context.categoryProductsPerPage}) {\n                                edges {\n                                    node {\n                                        entityId\n                                        name\n                                        description\n                                    }\n                                }\n                            }\n                        }\n                    }`,\n                }),\n            })\n            .then(res => res.json())\n            .then(request => {\n                const gqlProducts = request.data.site.products.edges;\n                console.log(gqlProducts);\n\n                $products.forEach((product, i) => {\n                    gqlProducts.forEach(item => {\n                        if ($(product).data('entityId') === item.node.entityId) {\n                            $(product).find('.listItem__description').html(item.node.description);\n                        }\n                    })\n                });\n            });\n        }\n    }\n\n    getStoredViewType() {\n        return sessionStorage.getItem('category-view-type') || null;\n    }\n\n    getRequestTemplateType(type) {\n        const pageType = this.getStoredViewType();\n        return !pageType ? `${type}/product-listing` : `custom/category-${pageType}-view`;\n    }\n\n    storeViewType(type) {\n        sessionStorage.setItem('category-view-type', type);\n    }\n\n    addStyleClass() {\n        if ($('.listItem').length) {\n            $('body').addClass('list-view');\n        } else {\n            $('body').removeClass('list-view');\n        }\n    }\n\n    getCategoryPage(pageType) {\n        const config = {\n            config: {\n                category: {\n                    shop_by_price: true,\n                    products: {\n                        limit: this.productsPerPage,\n                    },\n                },\n            },\n            template: `custom/category-${pageType}-view`,\n        };\n\n        this.loadingOverlay.show();\n\n        api.getPage(urlUtils.getUrl(), config, (err, content) => {\n            if (err) {\n                throw new Error(err);\n            }\n\n            $('#product-listing-container').html(content);\n\n            this.loadingOverlay.hide();\n\n            this.storeViewType(pageType);\n\n            this.addToggleEvents();\n\n            // Trigger events for filter restoration\n            $('body').triggerHandler('productViewModeChanged');\n            \n            // Also trigger a more specific event for filter tabs\n            $('body').triggerHandler('categoryFilterTabsRefresh');\n\n            this.fullWidthTemplate();\n        });\n    }\n\n    addToggleEvents() {\n        $('.js-category__toggle-view').on('click', (e) => {\n            const type = $(e.currentTarget).data('view-type');\n\n            if ($(e.currentTarget).hasClass('active-category-view')) return;\n\n            this.getCategoryPage(type, this.addToggleEvents);\n        });\n    }\n\n    fullWidthTemplate() {\n        if ($('.list-full-width').length) {\n            this.getProductDescriptions();\n            this.addStyleClass();\n\n            // aGFja3kgc29sdXRpb24=\n            $(window).on('load', () => {\n                $('.list-img-container').toArray().forEach(img => {\n                    if ($(img).height() > 620) {\n                        $(img).addClass('adjust-list-img-height');\n                    }\n                })\n            });\n        }\n    }\n\n    init() {\n        const storedViewType = this.getStoredViewType();\n        \n        // Enhanced detection for filter tabs template\n        const isFilterTabsTemplate = window.location.pathname.includes('nets') || \n                                   document.querySelector('.category-hero--filter-tabs') ||\n                                   document.querySelector('.subcategory-tabs--alt') ||\n                                   document.body.classList.contains('category-filter-tabs');\n        \n        console.log('Init debug:', {\n            storedViewType,\n            defaultViewType: this.defaultViewType,\n            isFilterTabsTemplate,\n            pathname: window.location.pathname,\n            isLocalhost: window.location.hostname.includes('localhost') || window.location.hostname.includes('127.0.0.1')\n        });\n        \n        // ALWAYS respect the defaultViewType from theme settings for initial load\n        // This fixes the localhost/browsersync issue where it defaults to grid\n        if (!storedViewType) {\n            console.log('No stored view type - using theme default:', this.defaultViewType);\n            // If default is list, make sure we're in list view without making an AJAX call\n            if (this.defaultViewType === 'list') {\n                this.addStyleClass(); // Add list-view class if needed\n            }\n            return this.addToggleEvents();\n        }\n        \n        // For filter tabs template, always respect the injected defaultViewType\n        if (isFilterTabsTemplate) {\n            // Clear any conflicting stored view type for filter tabs\n            if (storedViewType !== this.defaultViewType) {\n                console.log('Clearing conflicting stored view type for filter tabs');\n                sessionStorage.removeItem('category-view-type');\n            }\n            // Force the default view type for filter tabs\n            return this.addToggleEvents();\n        }\n\n        // For regular category pages with stored preference\n        if (storedViewType === this.defaultViewType) {\n            return this.addToggleEvents();\n        }\n\n        // Only switch to stored view if it's different from default\n        console.log('Switching to stored view type:', storedViewType);\n        this.getCategoryPage(storedViewType);\n    }\n}\n"],"sourceRoot":""}